import{d as w,R as x}from"./http-job.d45df238.js";import{e as u,s as z,d as S,r as j,u as n,o as H,c as N,w as l,F as V,R as G,C as d,f,B as I,I as h,y as b,k as P,q as $}from"./index.91ce384c.js";var k={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M912 820.1V203.9c28-9.9 48-36.6 48-67.9 0-39.8-32.2-72-72-72-31.3 0-58 20-67.9 48H203.9C194 84 167.3 64 136 64c-39.8 0-72 32.2-72 72 0 31.3 20 58 48 67.9v616.2C84 830 64 856.7 64 888c0 39.8 32.2 72 72 72 31.3 0 58-20 67.9-48h616.2c9.9 28 36.6 48 67.9 48 39.8 0 72-32.2 72-72 0-31.3-20-58-48-67.9zM888 112c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zM136 912c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-752c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm704 680H184V184h656v656zm48 72c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24z"}},{tag:"path",attrs:{d:"M288 474h448c8.8 0 16-7.2 16-16V282c0-8.8-7.2-16-16-16H288c-8.8 0-16 7.2-16 16v176c0 8.8 7.2 16 16 16zm56-136h336v64H344v-64zm-56 420h448c8.8 0 16-7.2 16-16V566c0-8.8-7.2-16-16-16H288c-8.8 0-16 7.2-16 16v176c0 8.8 7.2 16 16 16zm56-136h336v64H344v-64z"}}]},name:"group",theme:"outlined"};const M=k;function O(r){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?Object(arguments[e]):{},o=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(a).filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable}))),o.forEach(function(t){U(r,t,a[t])})}return r}function U(r,e,a){return e in r?Object.defineProperty(r,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[e]=a,r}var m=function(e,a){var o=O({},e,a.attrs);return u(z,O({},o,{icon:M}),null)};m.displayName="GroupOutlined";m.inheritAttrs=!1;const B=m;var E={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 112H724V72c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v40H500V72c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v40H320c-17.7 0-32 14.3-32 32v120h-96c-17.7 0-32 14.3-32 32v632c0 17.7 14.3 32 32 32h512c17.7 0 32-14.3 32-32v-96h96c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zM664 888H232V336h218v174c0 22.1 17.9 40 40 40h174v338zm0-402H514V336h.2L664 485.8v.2zm128 274h-56V456L544 264H360v-80h68v32c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-32h152v32c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-32h68v576z"}}]},name:"snippets",theme:"outlined"};const J=E;function _(r){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?Object(arguments[e]):{},o=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(a).filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable}))),o.forEach(function(t){L(r,t,a[t])})}return r}function L(r,e,a){return e in r?Object.defineProperty(r,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[e]=a,r}var g=function(e,a){var o=_({},e,a.attrs);return u(z,_({},o,{icon:J}),null)};g.displayName="SnippetsOutlined";g.inheritAttrs=!1;const R=g,T=S({__name:"HttpJobLogList",setup(r){const{searchCondition:e,isFetching:a,data:o,refetch:t}=w(),c=[{title:"Group",dataIndex:"jobGroup",key:"jobGroup",width:100,fixed:!0},{title:"Job",dataIndex:"jobName",key:"jobName",width:100,fixed:!0},{title:"Start time",dataIndex:"startTime",key:"startTime",width:200},{title:"End time",dataIndex:"endTime",key:"endTime",width:200},{title:"Status",dataIndex:"statusCode",key:"statusCode",width:220},{title:"Response",dataIndex:"response",key:"response",width:500,ellipsis:!0}];return(s,v)=>j(s.$slots,"default",{searchCondition:n(e),isFetching:n(a),data:n(o),refetch:n(t),antColumns:c})}}),C=S({__name:"HttpLogBoard",props:{groupName:null,jobName:null},setup(r){const e=r;return(a,o)=>(H(),N(T,null,{default:l(({searchCondition:t,isFetching:c,data:s,refetch:v,antColumns:y})=>[u(n($),{direction:"vertical",style:{width:"100%"},size:"small"},{default:l(()=>[u(n(V),{layout:"horizontal",onVnodeMounted:()=>{var i,p;t.groupName=(i=e.groupName)!=null?i:"",t.jobName=(p=e.jobName)!=null?p:""}},{default:l(()=>[u(n(G),{gutter:24},{default:l(()=>[u(n(d),null,{default:l(()=>[u(n(f),null,{default:l(()=>[u(n(I),{type:"primary",onClick:i=>v(),loading:c,shape:"circle"},{icon:l(()=>[u(n(x))]),_:2},1032,["onClick","loading"])]),_:2},1024)]),_:2},1024),u(n(d),null,{default:l(()=>[u(n(f),{label:"Group"},{default:l(()=>[u(n(h),{value:t.groupName,"onUpdate:value":i=>t.groupName=i},{prefix:l(()=>[u(n(B))]),suffix:l(()=>[u(n(b))]),_:2},1032,["value","onUpdate:value"])]),_:2},1024)]),_:2},1024),u(n(d),null,{default:l(()=>[u(n(f),{label:"Job"},{default:l(()=>[u(n(h),{value:t.jobName,"onUpdate:value":i=>t.jobName=i},{prefix:l(()=>[u(n(R))]),suffix:l(()=>[u(n(b))]),_:2},1032,["value","onUpdate:value"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onVnodeMounted"]),u(n(P),{loading:c,"data-source":s==null?void 0:s.data.content,columns:y,bordered:"",scroll:{y:900},current:t.page,"onUpdate:current":i=>t.page=i,pageSize:t.size,"onUpdate:pageSize":i=>t.size=i,pagination:{showSizeChanger:!0,showQuickJumper:!0,total:s==null?void 0:s.data.totalElements,pageSize:t.size,onChange:(i,p)=>{t.page=i-1,t.size=p}}},null,8,["loading","data-source","columns","current","onUpdate:current","pageSize","onUpdate:pageSize","pagination"])]),_:2},1024)]),_:1}))}});export{C as default};
